# Local Development Profile Configuration
# Use this profile when Docker Desktop is running and you want auto-start behavior
# Activate with: SPRING_PROFILES_ACTIVE=local

spring:
  # Enable Docker Compose only for local development
  docker:
    compose:
      enabled: true
      # Auto-start and stop with application lifecycle
      lifecycle-management: start_and_stop
      # Wait for services to be healthy before continuing
      wait:
        enabled: true
        timeout: 60s
        # Wait for specific services
        services:
          postgres:
            enabled: true
            tcp:
              ports:
                - 5432

  # Override datasource to use Docker Compose managed PostgreSQL
  datasource:
    url: jdbc:postgresql://localhost:5432/mydatabase
    username: myuser
    password: secret
    driver-class-name: org.postgresql.Driver

  # Enable SQL logging for local development
  jpa:
    show-sql: true
    properties:
      hibernate:
        format_sql: true

logging:
  level:
    org.planmoni.safehavenservice: DEBUG
    org.hibernate.SQL: DEBUG
    org.hibernate.type.descriptor.sql.BasicBinder: TRACE
